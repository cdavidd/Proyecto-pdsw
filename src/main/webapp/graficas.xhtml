<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <link rel="stylesheet" href="Recursos/usuarios.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
    </h:head>
    <body>
        <header>
                <div class="contenedorlogos"> 
                    <div id="logoescuela">
                        <img src="Recursos/logoescuela.png" alt=""></img>
                    </div>
                </div>  
        </header>
        <section class="menu">
                <center>
                     <div class="container">
                        <a class="toggleMenu" href="#" style="display: none;">Menu</a>
                        <ul class="nav" style="display: block;">
                            <li>
                                    <a href="home.xhtml"><i class="fa fa-user" style="font-size:24px"></i>#{inicioBean.usuario.nombre} (#{inicioBean.usuario.rol})</a>
                            </li>
                            <li>
                                <h:link outcome="consultarUsuarios" rendered="#{inicioBean.usuario.rol == 'Administrador'}" ><i class="fa fa-address-card" style="font-size:24px"></i>Consultar Usuarios del sistema</h:link><!-- Solo admin -->
                            </li>
                            <li>
                                <h:link outcome="ModificarIniciativas" rendered="#{inicioBean.usuario.rol == 'Administrador'}"><i class="fa fa-bars" style="font-size:24px"></i>Modificar Iniciativas</h:link><!-- Solo admin -->
                            </li> 
                            <li>
                               <h:link outcome="consultarIniciativaRefactor" ><i class="fa fa-search" style="font-size:24px" ></i>Consultar Iniciativas</h:link><!-- Para los 3 roles -->
                            </li> 
                            <li>
                                <h:link outcome="RegistrarIniciativa.xhtml?usuarioId=#{inicioBean.usuario.id}" rendered="#{inicioBean.usuario.rol == 'Proponente'}"><i class=" fa fa-edit" style="font-size:24px" ></i>Nueva Iniciativa</h:link><!-- Solo proponente -->
                            </li> 
                            <li>
                                <h:link outcome="VerIniciativas" rendered="#{inicioBean.usuario.rol == 'Proponente'}" ><i class="fa fa-list" style="font-size:24px"></i>Mis Iniciativas</h:link><!-- para Proponente -->
                            </li>
                            <li>
                                <h:link outcome="graficas"  onclick="#{chartView.listar()}"><i class="fa fa-bar-chart" style="font-size:24px"></i>Ver Estadisticas</h:link><!-- para Proponente y publico -->
                            </li>
                            <li>
                                 <h:form>                                                  
                                     <p:commandButton  value="Cerrar sesion" actionListener="#{inicioBean.reiniciar()}" action="Inicio" style="background-color: #ffffff; color: #006666; font-weight: bold; outline: none; border-color: #ffffff; font-size: 14px" ></p:commandButton> 
                                 </h:form>
                            </li>  
                        </ul>
                    </div>
                </center>       
        </section>
        <h:form >
            <center>
            <p:panel id="Areas" style="width: 100%; height: 25%;">
                <h:panelGrid columns="4" cellpadding="10"  >
                                  <p:chart  type="pie" model="#{chartView.pieMode2}" style="height:10%; width: 10%" rendered="#{chartView.pieMode2 != null}" />
                                  <p:chart type="bar" model="#{chartView.pieModel}" style="height:25%; width: 15%" rendered="#{chartView.pieModel != null}" widgetVar="char1"/>
                                  <p:chart type="pie" model="#{chartView.pieMode4}" style="height:10%; width: 10%" rendered="#{chartView.pieMode4 != null}" />
                                  
                            </h:panelGrid>
            </p:panel>
            </center>



        </h:form>
        <h:form id="iniciativaForm">
            
            
            
            <p:dataTable id="iniciativa_tabla" var="iniciativa" value="#{chartView.e}"  paginator="true" rows="10" scrollable="true" scrollHeight="300">
                <p:column headerText="Proponente"  >
                    <h:outputText value="#{iniciativa[0]}"/> 
		</p:column>  
                  <p:column headerText="Descripcion"  >
                    <h:outputText value="#{iniciativa[1]}"/>
		</p:column>
                  
            </p:dataTable>


        </h:form>
        
        <footer id="footerinvestigacion">
                <div class="footercontainer">
                    <div class="direccion">
                        <p>ESCUELA COLOMBIANA DE INGENIERIA JULIO GARAVITO</p>
                        <br>AK.45 No.205-59 (Autopista Norte)</br>
                        Contact center: 57(1) 668 3600
                        <br>Linea Nacional Gratuita: 018000112668</br>
                        Informacion detallada en: www.escuelaing.edu.co<br></br>
                        Vigilada Mineducacion.
                        <br><br>Bogota, D.C. - Colombia</br></br>          
                   </div> 
                </div>
             </footer>
        
    </body>
    
	
</html>