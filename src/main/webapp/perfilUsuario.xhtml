<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title></title>
		<link rel="stylesheet" href="Recursos/usuarios.css" />
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
	</h:head>
	<h:body >
            <f:metadata>
                <f:viewParam name="email" value="#{registroBean.email}" />
            </f:metadata>
            <header>
                <div class="contenedorlogos"> 
                    <div id="logoescuela">
                        <img src="Recursos/logoescuela.png" alt=""></img>
                    </div>
                </div>  
            </header>
            <section class="menu">
                <center>
                     <div class="container">
                        <a class="toggleMenu" href="#" style="display: none;">Menu</a>
                         <ul class="nav" style="display: block;">

                                 <li>
                                         <a href="homeAdmi.xhtml"><i class="fa fa-user" style="font-size:24px"></i>#{inicioBean.usuario.nombre} (#{inicioBean.usuario.rol})</a>
                                 </li>
                                 <li>
                                     <a href="consultarUsuarios.xhtml"><i class="fa fa-address-card" style="font-size:24px" ></i>Consultar Usuarios del sistema</a>
                                 </li>
                                 <li>
                                     <a href="ConsultarIniciativas.xhtml"><i class="fa fa-bars" style="font-size:24px" ></i>Consultar Iniciativas</a>
                                 </li> 
 
                                 <li>
                                     <a href="Inicio.xhtml"><i class="fa fa-caret-square-o-left" style="font-size:24px" ></i>Cerrar Sesion</a>
                                 </li> 
                         </ul>
                     </div>
                 </center>       
            </section>
            <h:form id="UsuariosForm">
              <p:dataTable id="usuarios_tabla" var="usuario" value="#{registroBean.consultarUsuario()}">
                 <p:column headerText="Nombre">
                            <h:outputText value="#{usuario.nombre}" />
                </p:column>
              <!-- <p:column headerText="Estado">
                   <p:cellEditor>
                       <f:facet name="output">  
                            <h:outputText value="#{administradorBean.estado}" />  
                        </f:facet> 
                       <f:facet name="input">
                            <h:selectOneMenu id="res" value = "#{administradorBean.estado}" > 
                                <f:selectItems value="#{administradorBean.tipoEstado}" />
                            </h:selectOneMenu> 
                        </f:facet>
                   </p:cellEditor>
                </p:column> --> 
                <p:column headerText="Email">
                    <h:outputText value="#{usuario.email}" />
                </p:column>
                <p:column headerText="Rol">
                    <h:outputText value="#{usuario.rol}" />
                </p:column>
            </p:dataTable>
                <h:selectOneMenu id="rol" value = "#{registroBean.rol}" > 
                    <f:selectItems value="#{registroBean.tipoRol}" />
                </h:selectOneMenu> 
                <p:commandButton value="Actualizar" actionListener="#{registroBean.cambiarRol()}" action="consultarUsuarios" />
            </h:form>
            <footer id="footerinvestigacion">
                <div class="footercontainer">
                    <div class="direccion">
                        <p>ESCUELA COLOMBIANA DE INGENIERIA JULIO GARAVITO</p>
                        <br>AK.45 No.205-59 (Autopista Norte)</br>
                        Contact center: 57(1) 668 3600
                        <br>Linea Nacional Gratuita: 018000112668</br>
                        Informacion detallada en: www.escuelaing.edu.co<br></br>
                        Vigilada Mineducacion.
                        <br><br>Bogota, D.C. - Colombia</br></br>          
                   </div> 
                </div>
             </footer>
            


	</h:body>
	
</html>