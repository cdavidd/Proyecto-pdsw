<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title></title>
		<link rel="stylesheet" href="fontello.css" />
                <link rel="stylesheet" href="Recursos/usuarios.css" />
                 <link rel="stylesheet" href="Recursos/menuSecundario.css" />
	</h:head>
	<h:body >
            <h:form id="UsuariosForm">
              <p:dataTable id="usuarios_tabla" var="usuario" value="#{administradorBean.usuarios}">
                <p:column headerText="Nombre">
                            <h:outputText value="#{usuario.nombre}" />
                </p:column>
                <p:column headerText="Email">
                            <h:outputText value="#{usuario.email}" />
                </p:column>
                <p:column headerText="Rol">
                    <h:selectOneMenu value = "#{usuario.rol}" > 
                        <f:selectItem itemValue = "Administrador" itemLabel = "Administrador" /> 
                        <f:selectItem itemValue = "Pmo_Odi" itemLabel = "Pmo_Odi" /> 
                        <f:selectItem itemValue = "Proponente" itemLabel = "Proponente"/> 
                        <f:selectItem itemValue = "Publico" itemLabel = "Publico" />
                        <f:selectItem itemValue = "En_Espera" itemLabel = "En_Espera" />  
                        <!--<p:ajax event="change" update="@this" />-->                                         
                        <f:ajax listener="#{administradorBean.algo(usuario.rol)}" />

                    </h:selectOneMenu>  
                </p:column>
                <p:column headerText="Iniciativas">
                            <h:outputText value="#{usuario.iniciativas.size()}" />
                </p:column>
            </p:dataTable>
            </h:form>

            <header>
                <div class="contenedor"> 
                    <h1 class="icon-bank">Usuarios</h1>
                    <input type="checkbox" id="menu-bar"></input>
                    <label class="icon-menu" for="menu-bar"></label> 
                    <nav class="menu">
                    
                        <a href="">Inicio</a>
                        <a href="">Iniciativas</a>
                        <a href="">Contacto</a>
                        <a href="">#{inicioBean.usuario.nombre} (#{inicioBean.usuario.rol})</a>
                    </nav>
                </div>
            </header>

            <div class="menuOpciones">
                    <nav class="menu2">
                         <a href="VerIniciativas.xhtml">Consultar Iniciativas</a>
                         <a href="Inicio.xhtml">Cerrar Sesion</a>
                    </nav>
                </div>


	</h:body>
	
</html>